"use strict";(self["webpackChunktodo"]=self["webpackChunktodo"]||[]).push([[868],{5868:function(e,a,s){s.r(a),s.d(a,{default:function(){return w}});s(7658);var l=s(3396),o=s(4870),n=s(3405),r=s(1638),u=s(2483);const t={class:"container"},i={class:"login-form"},d=["src"],m={class:"login"};var c={__name:"index",setup(e){const a=(0,r.L)(),c=(0,u.tv)(),p=(0,o.qj)({username:"",password:"",confirmPassword:""}),f={password:[{required:!0,message:"请输入密码!"},{min:6,max:12,message:"密码长度为6-12位"}],confirmPassword:[{required:!0,message:"请输入确认密码!"},{min:6,max:12,message:"密码长度为6-12位"},{validator:(e,a)=>new Promise(((e,s)=>{a!==p.password?s("两次输入密码不一致"):e()}))}]},w=(0,o.iH)(!1),v=(0,o.iH)(),g=e=>{v.value.validateFields().then((async s=>{if(s)try{w.value=!0;const s=(0,n.H)(e.password),l=(0,n.H)(e.confirmPassword);await a.Register({...e,password:s,confirmPassword:l}),setTimeout((()=>{c.push({path:"/login"})}),1e3)}finally{w.value=!1}}))};return(e,a)=>{const n=(0,l.up)("a-input"),r=(0,l.up)("a-form-item"),u=(0,l.up)("a-input-password"),_=(0,l.up)("a-button"),U=(0,l.up)("a-form");return(0,l.wg)(),(0,l.iD)("div",t,[(0,l._)("div",i,[(0,l._)("img",{src:s(6949),class:"login-logo"},null,8,d),(0,l.Wm)(U,{class:"form",ref_key:"formRef",ref:v,model:(0,o.SU)(p),name:"basic",rules:f,"label-col":{style:{width:"80px"}},"label-align":"left",autocomplete:"off",onFinish:g},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{label:"用户名",name:"username"},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{value:(0,o.SU)(p).username,"onUpdate:value":a[0]||(a[0]=e=>(0,o.SU)(p).username=e),placeholder:"请输入用户名"},null,8,["value"])])),_:1}),(0,l.Wm)(r,{label:"密码",name:"password"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{value:(0,o.SU)(p).password,"onUpdate:value":a[1]||(a[1]=e=>(0,o.SU)(p).password=e),placeholder:"请输入密码"},null,8,["value"])])),_:1}),(0,l.Wm)(r,{label:"确认密码",name:"confirmPassword"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{value:(0,o.SU)(p).confirmPassword,"onUpdate:value":a[2]||(a[2]=e=>(0,o.SU)(p).confirmPassword=e),placeholder:"请输入确认密码"},null,8,["value"])])),_:1}),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(_,{type:"primary","html-type":"submit",block:"",loading:(0,o.SU)(w)},{default:(0,l.w5)((()=>[(0,l.Uk)("注 册")])),_:1},8,["loading"])])),_:1}),(0,l._)("div",m,[(0,l.Wm)(_,{type:"link",onClick:a[3]||(a[3]=e=>(0,o.SU)(c).push("/login"))},{default:(0,l.w5)((()=>[(0,l.Uk)("已有账号？去登录")])),_:1})])])),_:1},8,["model"])])])}}},p=s(89);const f=(0,p.Z)(c,[["__scopeId","data-v-2e451a7c"]]);var w=f}}]);
//# sourceMappingURL=868.b8a4d819.js.map