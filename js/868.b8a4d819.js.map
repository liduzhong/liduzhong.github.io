{"version":3,"file":"js/868.b8a4d819.js","mappings":"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","sources":["webpack://todo/./src/views/register/index.vue","webpack://todo/./src/views/register/index.vue?a83a"],"sourcesContent":["import \"core-js/modules/es.array.push.js\";\nimport { createElementVNode as _createElementVNode, unref as _unref, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-2e451a7c\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"login-form\"\n};\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = {\n  class: \"login\"\n};\nimport { encrypt } from '@/utils/jsencrypt';\nimport { useUserStore } from '@/stores/modules/user';\nimport { useRouter } from 'vue-router';\nexport default {\n  __name: 'index',\n  setup(__props) {\n    const userStore = useUserStore();\n    const router = useRouter();\n    const formState = reactive({\n      username: '',\n      password: '',\n      confirmPassword: ''\n    });\n    const rules = {\n      password: [{\n        required: true,\n        message: '请输入密码!'\n      }, {\n        min: 6,\n        max: 12,\n        message: '密码长度为6-12位'\n      }],\n      confirmPassword: [{\n        required: true,\n        message: '请输入确认密码!'\n      }, {\n        min: 6,\n        max: 12,\n        message: '密码长度为6-12位'\n      }, {\n        validator: (_, value) => {\n          return new Promise((resolve, reject) => {\n            if (value !== formState.password) {\n              reject('两次输入密码不一致');\n            } else {\n              resolve();\n            }\n          });\n        }\n      }]\n    };\n    const loading = ref(false);\n    const formRef = ref();\n    const hanldeRegister = values => {\n      formRef.value.validateFields().then(async valid => {\n        if (!valid) return;\n        try {\n          loading.value = true;\n          const password = encrypt(values.password);\n          const confirmPassword = encrypt(values.confirmPassword);\n          await userStore.Register({\n            ...values,\n            password,\n            confirmPassword\n          });\n          setTimeout(() => {\n            router.push({\n              path: '/login'\n            });\n          }, 1000);\n        } finally {\n          loading.value = false;\n        }\n      });\n    };\n    return (_ctx, _cache) => {\n      const _component_a_input = _resolveComponent(\"a-input\");\n      const _component_a_form_item = _resolveComponent(\"a-form-item\");\n      const _component_a_input_password = _resolveComponent(\"a-input-password\");\n      const _component_a_button = _resolveComponent(\"a-button\");\n      const _component_a_form = _resolveComponent(\"a-form\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"img\", {\n        src: require('@/assets/logo.png'),\n        class: \"login-logo\"\n      }, null, 8, _hoisted_3), _createVNode(_component_a_form, {\n        class: \"form\",\n        ref_key: \"formRef\",\n        ref: formRef,\n        model: _unref(formState),\n        name: \"basic\",\n        rules: rules,\n        \"label-col\": {\n          style: {\n            width: '80px'\n          }\n        },\n        \"label-align\": \"left\",\n        autocomplete: \"off\",\n        onFinish: hanldeRegister\n      }, {\n        default: _withCtx(() => [_createVNode(_component_a_form_item, {\n          label: \"用户名\",\n          name: \"username\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_a_input, {\n            value: _unref(formState).username,\n            \"onUpdate:value\": _cache[0] || (_cache[0] = $event => _unref(formState).username = $event),\n            placeholder: \"请输入用户名\"\n          }, null, 8, [\"value\"])]),\n          _: 1\n        }), _createVNode(_component_a_form_item, {\n          label: \"密码\",\n          name: \"password\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_a_input_password, {\n            value: _unref(formState).password,\n            \"onUpdate:value\": _cache[1] || (_cache[1] = $event => _unref(formState).password = $event),\n            placeholder: \"请输入密码\"\n          }, null, 8, [\"value\"])]),\n          _: 1\n        }), _createVNode(_component_a_form_item, {\n          label: \"确认密码\",\n          name: \"confirmPassword\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_a_input_password, {\n            value: _unref(formState).confirmPassword,\n            \"onUpdate:value\": _cache[2] || (_cache[2] = $event => _unref(formState).confirmPassword = $event),\n            placeholder: \"请输入确认密码\"\n          }, null, 8, [\"value\"])]),\n          _: 1\n        }), _createVNode(_component_a_form_item, null, {\n          default: _withCtx(() => [_createVNode(_component_a_button, {\n            type: \"primary\",\n            \"html-type\": \"submit\",\n            block: \"\",\n            loading: _unref(loading)\n          }, {\n            default: _withCtx(() => [_createTextVNode(\"注 册\")]),\n            _: 1\n          }, 8, [\"loading\"])]),\n          _: 1\n        }), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_a_button, {\n          type: \"link\",\n          onClick: _cache[3] || (_cache[3] = $event => _unref(router).push('/login'))\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"已有账号？去登录\")]),\n          _: 1\n        })])]),\n        _: 1\n      }, 8, [\"model\"])])]);\n    };\n  }\n};","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=2e451a7c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2e451a7c\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","__name","setup","__props","userStore","router","formState","username","password","confirmPassword","rules","required","message","min","max","validator","_","value","Promise","resolve","reject","loading","formRef","hanldeRegister","values","validateFields","then","async","valid","Register","setTimeout","push","path","_ctx","_cache","_component_a_input","_component_a_form_item","_component_a_input_password","_component_a_button","_component_a_form","src","ref_key","ref","model","name","style","width","autocomplete","onFinish","default","label","$event","placeholder","type","block","onClick","__exports__"],"sourceRoot":""}